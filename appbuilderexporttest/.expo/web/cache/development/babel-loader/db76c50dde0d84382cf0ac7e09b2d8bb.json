{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/jordantaylor/Projects/AppBuilderToExpo/appbuilderexporttest/appbuilderexporttest/App.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FirstPage from \"./downloadedpages/FirstPage.js\";\nimport Profile from \"./downloadedpages/Profile.js\";\nimport SavedGrants from \"./downloadedpages/SavedGrants.js\";\nimport GrantTemplate from \"./downloadedpages/GrantTemplate.js\";\nimport LoginScreen from \"./downloadedpages/LoginScreen.js\";\nimport appData from \"./downloadedpages/global.js\";\n\nfunction try_eval(input) {\n  try {\n    var output = eval(input);\n    return output;\n  } catch (e) {\n    return input;\n  }\n}\n\nfunction filter(arr, phrase) {\n  return arr.filter(function (elem) {\n    return elem.indexOf(phrase) !== -1;\n  });\n}\n\nfunction filter_list_of_objs(arr, key, filter_value) {\n  return arr.filter(function (obj) {\n    return obj[key] === filter_value;\n  });\n}\n\nfunction map_list_of_objs(arr, key) {\n  return arr.map(function (obj) {\n    return obj[key];\n  });\n}\n\nfunction clone(arr) {\n  return arr.slice();\n}\n\nfunction convert_spreadsheet_data_to_obj(data) {\n  return {\n    row: data.gs$cell.row,\n    col: data.gs$cell.col,\n    data: data.content.$t,\n    type: data.content.type\n  };\n}\n\nfunction unwrap_dynamically(value, default_value) {\n  if (default_value === undefined) {\n    default_value = \"undefined\";\n  }\n\n  return try_eval(value) === undefined ? default_value : try_eval(value);\n}\n\nvar App = function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      dbLinks: {},\n      loaded: false,\n      page: \"FirstPage\",\n      numLoaded: 0\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var that = this;\n      var dbLinks = {\n        \"data\": \"https://script.google.com/a/vineyardappcamp.com/macros/s/AKfycbzDpmx5Lz6rtjtErMkdSt2ksR6qZEwupA2atqdD9Q/exec?sheetName=Aaron\",\n        \"userdata\": \"https://script.google.com/a/vineyardappcamp.com/macros/s/AKfycbzDpmx5Lz6rtjtErMkdSt2ksR6qZEwupA2atqdD9Q/exec?sheetName=AaronUser\"\n      };\n      Object.keys(dbLinks).forEach(function (key) {\n        that.connectToDatabase(dbLinks[key], key);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var that = this;\n\n      if (that.state.page === \"FirstPage\") {\n        return React.createElement(View, {\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 11\n          }\n        }, React.createElement(FirstPage, {\n          goTo: that.goTo.bind(that),\n          loaded: that.state.loaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      if (that.state.page === \"Profile\") {\n        return React.createElement(View, {\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }\n        }, React.createElement(Profile, {\n          goTo: that.goTo.bind(that),\n          loaded: that.state.loaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      if (that.state.page === \"Saved Grants\") {\n        return React.createElement(View, {\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }\n        }, React.createElement(SavedGrants, {\n          goTo: that.goTo.bind(that),\n          loaded: that.state.loaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      if (that.state.page === \"GrantTemplate\") {\n        return React.createElement(View, {\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }\n        }, React.createElement(GrantTemplate, {\n          goTo: that.goTo.bind(that),\n          loaded: that.state.loaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      if (that.state.page === \"LoginScreen\") {\n        return React.createElement(View, {\n          style: {\n            width: \"100%\",\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 11\n          }\n        }, React.createElement(LoginScreen, {\n          goTo: that.goTo.bind(that),\n          loaded: that.state.loaded,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 14\n          }\n        }));\n      }\n    }\n  }, {\n    key: \"connectToDatabase\",\n    value: function connectToDatabase(db_link, name) {\n      var that = this;\n      that.state.dbLinks[name] = db_link;\n\n      if (db_link.indexOf(\"google.com\") !== -1 && db_link.indexOf(\"macros\") === -1) {\n        var schema = fetch(db_link, {\n          method: 'GET',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(function _callee(res) {\n          var cols, data, output, data_arr;\n          return _regeneratorRuntime.async(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return _regeneratorRuntime.awrap(res.json());\n\n                case 2:\n                  res = _context.sent;\n                  cols = {};\n                  data = res.feed.entry.map(convert_spreadsheet_data_to_obj);\n                  output = {};\n                  data.forEach(function (cell) {\n                    if (parseInt(cell.row) === 1) {\n                      cols[cell.col] = cell.data;\n                    }\n                  });\n                  data.forEach(function (cell) {\n                    if (output[cell.row] !== 1) {\n                      if (output[cell.row] === undefined) {\n                        output[cell.row] = {};\n                      }\n\n                      output[cell.row][cols[cell.col]] = cell.data;\n                    }\n                  });\n                  data_arr = Object.keys(output).map(function (key) {\n                    return output[key];\n                  });\n                  data_arr.forEach(function (obj, index) {\n                    console.log(\"OBJ\" + obj);\n                    obj[\"Index\"] = index;\n                  });\n                  window[name] = data_arr;\n                  that.forceUpdate();\n\n                  if (that.state.numLoaded === Object.keys(that.state.dbLinks).length - 1) {\n                    that.setState({\n                      dbLinks: that.state.dbLinks,\n                      loaded: true\n                    });\n                  } else {\n                    that.setState({\n                      dbLinks: that.state.dbLinks,\n                      numLoaded: that.state.numLoaded + 1\n                    });\n                  }\n\n                case 13:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        });\n        return;\n      }\n\n      var schema = fetch(db_link, {\n        method: 'GET',\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          \"Accept\": \"application/json\"\n        }\n      }).then(function _callee2(res) {\n        return _regeneratorRuntime.async(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regeneratorRuntime.awrap(res.json());\n\n              case 2:\n                res = _context2.sent;\n                window[name] = res;\n                res.forEach(function (obj, index) {\n                  obj[\"Index\"] = index;\n                });\n\n                if (that.state.numLoaded === Object.keys(that.state.dbLinks).length - 1) {\n                  that.setState({\n                    dbLinks: that.state.dbLinks,\n                    loaded: true\n                  });\n                } else {\n                  that.setState({\n                    dbLinks: that.state.dbLinks,\n                    numLoaded: that.state.numLoaded + 1\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      });\n    }\n  }, {\n    key: \"goTo\",\n    value: function goTo(pageName) {\n      console.log(\"page\");\n      console.log(pageName);\n      this.setState({\n        page: pageName\n      });\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\nexport default App;","map":{"version":3,"sources":["/Users/jordantaylor/Projects/AppBuilderToExpo/appbuilderexporttest/appbuilderexporttest/App.js"],"names":["React","FirstPage","Profile","SavedGrants","GrantTemplate","LoginScreen","appData","try_eval","input","output","eval","e","filter","arr","phrase","elem","indexOf","filter_list_of_objs","key","filter_value","obj","map_list_of_objs","map","clone","slice","convert_spreadsheet_data_to_obj","data","row","gs$cell","col","content","$t","type","unwrap_dynamically","value","default_value","undefined","App","props","state","dbLinks","loaded","page","numLoaded","that","Object","keys","forEach","connectToDatabase","width","height","goTo","bind","db_link","name","schema","fetch","method","headers","then","res","json","cols","feed","entry","cell","parseInt","data_arr","index","console","log","window","forceUpdate","length","setState","pageName","Component","styles","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;;AAEA,OAAOC,SAAP;AACA,OAAOC,OAAP;AACA,OAAOC,WAAP;AACA,OAAOC,aAAP;AACA,OAAOC,WAAP;AACA,OAAOC,OAAP;;AAoBA,SAASC,QAAT,CAAkBC,KAAlB,EAAwB;AACtB,MAAI;AACF,QAAIC,MAAM,GAAIC,IAAI,CAACF,KAAD,CAAlB;AACA,WAAOC,MAAP;AACD,GAHD,CAGE,OAAME,CAAN,EAAQ;AACR,WAAOH,KAAP;AAED;AACD;;AAGF,SAASI,MAAT,CAAgBC,GAAhB,EAAoBC,MAApB,EAA2B;AACzB,SAAOD,GAAG,CAACD,MAAJ,CAAW,UAASG,IAAT,EAAc;AAC9B,WAAOA,IAAI,CAACC,OAAL,CAAaF,MAAb,MAAyB,CAAC,CAAjC;AACD,GAFM,CAAP;AAGD;;AAED,SAASG,mBAAT,CAA6BJ,GAA7B,EAAiCK,GAAjC,EAAqCC,YAArC,EAAkD;AAChD,SAAON,GAAG,CAACD,MAAJ,CAAW,UAASQ,GAAT,EAAa;AAC7B,WAAOA,GAAG,CAACF,GAAD,CAAH,KAAaC,YAApB;AACD,GAFM,CAAP;AAGD;;AAED,SAASE,gBAAT,CAA0BR,GAA1B,EAA8BK,GAA9B,EAAkC;AAChC,SAAOL,GAAG,CAACS,GAAJ,CAAQ,UAASF,GAAT,EAAa;AAC1B,WAAOA,GAAG,CAACF,GAAD,CAAV;AACD,GAFM,CAAP;AAGD;;AAED,SAASK,KAAT,CAAeV,GAAf,EAAmB;AACjB,SAAOA,GAAG,CAACW,KAAJ,EAAP;AACD;;AAGD,SAASC,+BAAT,CAAyCC,IAAzC,EAA8C;AAC5C,SAAO;AACLC,IAAAA,GAAG,EAAED,IAAI,CAACE,OAAL,CAAaD,GADb;AAELE,IAAAA,GAAG,EAAEH,IAAI,CAACE,OAAL,CAAaC,GAFb;AAGLH,IAAAA,IAAI,EAAEA,IAAI,CAACI,OAAL,CAAaC,EAHd;AAILC,IAAAA,IAAI,EAACN,IAAI,CAACI,OAAL,CAAaE;AAJb,GAAP;AAMD;;AAID,SAASC,kBAAT,CAA4BC,KAA5B,EAAkCC,aAAlC,EAAgD;AAC9C,MAAGA,aAAa,KAAKC,SAArB,EAA+B;AAC7BD,IAAAA,aAAa,GAAG,WAAhB;AACD;;AACD,SAAO5B,QAAQ,CAAC2B,KAAD,CAAR,KAAoBE,SAApB,GAAiCD,aAAjC,GAAkD5B,QAAQ,CAAC2B,KAAD,CAAjE;AACD;;IAIKG,G;;;;;AAEN,eAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAClB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,OAAO,EAAC,EAAT;AAAaC,MAAAA,MAAM,EAAC,KAApB;AAA2BC,MAAAA,IAAI,EAAC,WAAhC;AAA6CC,MAAAA,SAAS,EAAC;AAAvD,KAAb;AAFkB;AAGjB;;;;wCAEwB;AAEjB,UAAIC,IAAI,GAAG,IAAX;AACA,UAAIJ,OAAO,GAAG;AAAC,gBAAO,8HAAR;AAAuI,oBAAW;AAAlJ,OAAd;AACAK,MAAAA,MAAM,CAACC,IAAP,CAAYN,OAAZ,EAAqBO,OAArB,CAA6B,UAAS7B,GAAT,EAAa;AACxC0B,QAAAA,IAAI,CAACI,iBAAL,CAAuBR,OAAO,CAACtB,GAAD,CAA9B,EAAqCA,GAArC;AACD,OAFD;AAGD;;;6BAIC;AAEN,UAAI0B,IAAI,GAAG,IAAX;;AAGE,UAAGA,IAAI,CAACL,KAAL,CAAWG,IAAX,KAAoB,WAAvB,EAAmC;AAC/B,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAI;AAACO,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,MAAM,EAAC;AAArB,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAIN,IAAI,CAACO,IAAL,CAAUC,IAAV,CAAeR,IAAf,CAAnB;AAAyC,UAAA,MAAM,EAAIA,IAAI,CAACL,KAAL,CAAWE,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADF;AAKH;;AAOD,UAAGG,IAAI,CAACL,KAAL,CAAWG,IAAX,KAAoB,SAAvB,EAAiC;AAC7B,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAI;AAACO,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,MAAM,EAAC;AAArB,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,OAAD;AAAS,UAAA,IAAI,EAAIN,IAAI,CAACO,IAAL,CAAUC,IAAV,CAAeR,IAAf,CAAjB;AAAuC,UAAA,MAAM,EAAIA,IAAI,CAACL,KAAL,CAAWE,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADF;AAKH;;AAOD,UAAGG,IAAI,CAACL,KAAL,CAAWG,IAAX,KAAoB,cAAvB,EAAsC;AAClC,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAI;AAACO,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,MAAM,EAAC;AAArB,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,WAAD;AAAa,UAAA,IAAI,EAAIN,IAAI,CAACO,IAAL,CAAUC,IAAV,CAAeR,IAAf,CAArB;AAA2C,UAAA,MAAM,EAAIA,IAAI,CAACL,KAAL,CAAWE,MAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADF;AAKH;;AAOD,UAAGG,IAAI,CAACL,KAAL,CAAWG,IAAX,KAAoB,eAAvB,EAAuC;AACnC,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAI;AAACO,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,MAAM,EAAC;AAArB,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,aAAD;AAAe,UAAA,IAAI,EAAIN,IAAI,CAACO,IAAL,CAAUC,IAAV,CAAeR,IAAf,CAAvB;AAA6C,UAAA,MAAM,EAAIA,IAAI,CAACL,KAAL,CAAWE,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADF;AAKH;;AAOD,UAAGG,IAAI,CAACL,KAAL,CAAWG,IAAX,KAAoB,aAAvB,EAAqC;AACjC,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAI;AAACO,YAAAA,KAAK,EAAC,MAAP;AAAcC,YAAAA,MAAM,EAAC;AAArB,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,oBAAC,WAAD;AAAa,UAAA,IAAI,EAAIN,IAAI,CAACO,IAAL,CAAUC,IAAV,CAAeR,IAAf,CAArB;AAA2C,UAAA,MAAM,EAAIA,IAAI,CAACL,KAAL,CAAWE,MAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADF;AAKH;AAQJ;;;sCAEiBY,O,EAAQC,I,EAAK;AACzB,UAAIV,IAAI,GAAG,IAAX;AACAA,MAAAA,IAAI,CAACL,KAAL,CAAWC,OAAX,CAAmBc,IAAnB,IAA2BD,OAA3B;;AAEA,UAAGA,OAAO,CAACrC,OAAR,CAAgB,YAAhB,MAAkC,CAAC,CAAnC,IAAwCqC,OAAO,CAACrC,OAAR,CAAgB,QAAhB,MAA8B,CAAC,CAA1E,EAA4E;AACzE,YAAIuC,MAAM,GAAGC,KAAK,CAACH,OAAD,EAAU;AACnBI,UAAAA,MAAM,EAAE,KADW;AAEnBC,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT;AAFU,SAAV,CAAL,CAKTC,IALS,CAKJ,iBAAeC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAGSA,GAAG,CAACC,IAAJ,EAHT;;AAAA;AAGHD,kBAAAA,GAHG;AAIHE,kBAAAA,IAJG,GAII,EAJJ;AAKHpC,kBAAAA,IALG,GAKIkC,GAAG,CAACG,IAAJ,CAASC,KAAT,CAAe1C,GAAf,CAAmBG,+BAAnB,CALJ;AAMHhB,kBAAAA,MANG,GAMM,EANN;AAOPiB,kBAAAA,IAAI,CAACqB,OAAL,CAAa,UAASkB,IAAT,EAAc;AAE1B,wBAAGC,QAAQ,CAACD,IAAI,CAACtC,GAAN,CAAR,KAAuB,CAA1B,EAA4B;AAC1BmC,sBAAAA,IAAI,CAACG,IAAI,CAACpC,GAAN,CAAJ,GAAiBoC,IAAI,CAACvC,IAAtB;AACD;AACD,mBALD;AAODA,kBAAAA,IAAI,CAACqB,OAAL,CAAa,UAASkB,IAAT,EAAc;AACzB,wBAAGxD,MAAM,CAACwD,IAAI,CAACtC,GAAN,CAAN,KAAqB,CAAxB,EAA0B;AACxB,0BAAGlB,MAAM,CAACwD,IAAI,CAACtC,GAAN,CAAN,KAAqBS,SAAxB,EAAkC;AAChC3B,wBAAAA,MAAM,CAACwD,IAAI,CAACtC,GAAN,CAAN,GAAmB,EAAnB;AACD;;AACDlB,sBAAAA,MAAM,CAACwD,IAAI,CAACtC,GAAN,CAAN,CAAiBmC,IAAI,CAACG,IAAI,CAACpC,GAAN,CAArB,IAAmCoC,IAAI,CAACvC,IAAxC;AACD;AACF,mBAPD;AASIyC,kBAAAA,QAvBI,GAuBOtB,MAAM,CAACC,IAAP,CAAYrC,MAAZ,EAAoBa,GAApB,CAAwB,UAASJ,GAAT,EAAa;AAClD,2BAAOT,MAAM,CAACS,GAAD,CAAb;AACD,mBAFc,CAvBP;AA2BRiD,kBAAAA,QAAQ,CAACpB,OAAT,CAAiB,UAAS3B,GAAT,EAAagD,KAAb,EAAmB;AAClCC,oBAAAA,OAAO,CAACC,GAAR,CAAY,QAAQlD,GAApB;AACAA,oBAAAA,GAAG,CAAC,OAAD,CAAH,GAAegD,KAAf;AACD,mBAHD;AAOEG,kBAAAA,MAAM,CAACjB,IAAD,CAAN,GAAea,QAAf;AAEAvB,kBAAAA,IAAI,CAAC4B,WAAL;;AAEF,sBAAG5B,IAAI,CAACL,KAAL,CAAWI,SAAX,KAAyBE,MAAM,CAACC,IAAP,CAAYF,IAAI,CAACL,KAAL,CAAWC,OAAvB,EAAgCiC,MAAhC,GAAuC,CAAnE,EAAqE;AACnE7B,oBAAAA,IAAI,CAAC8B,QAAL,CAAc;AAAClC,sBAAAA,OAAO,EAACI,IAAI,CAACL,KAAL,CAAWC,OAApB;AAA6BC,sBAAAA,MAAM,EAAC;AAApC,qBAAd;AACD,mBAFD,MAEO;AACLG,oBAAAA,IAAI,CAAC8B,QAAL,CAAc;AAAClC,sBAAAA,OAAO,EAACI,IAAI,CAACL,KAAL,CAAWC,OAApB;AAA6BG,sBAAAA,SAAS,EAACC,IAAI,CAACL,KAAL,CAAWI,SAAX,GAAuB;AAA9D,qBAAd;AACD;;AA1CO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALI,CAAb;AAoDD;AACD;;AAID,UAAIY,MAAM,GAAGC,KAAK,CAACH,OAAD,EAAU;AAChBI,QAAAA,MAAM,EAAE,KADQ;AAEhBC,QAAAA,OAAO,EAAE;AACP,0BAAgB,mCADT;AAEP,oBAAU;AAFH;AAFO,OAAV,CAAL,CAMRC,IANQ,CAMH,kBAAeC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAEMA,GAAG,CAACC,IAAJ,EAFN;;AAAA;AAEND,gBAAAA,GAFM;AAGNW,gBAAAA,MAAM,CAACjB,IAAD,CAAN,GAAeM,GAAf;AACAA,gBAAAA,GAAG,CAACb,OAAJ,CAAY,UAAS3B,GAAT,EAAagD,KAAb,EAAmB;AAC7BhD,kBAAAA,GAAG,CAAC,OAAD,CAAH,GAAegD,KAAf;AACD,iBAFD;;AAMA,oBAAGxB,IAAI,CAACL,KAAL,CAAWI,SAAX,KAAyBE,MAAM,CAACC,IAAP,CAAYF,IAAI,CAACL,KAAL,CAAWC,OAAvB,EAAgCiC,MAAhC,GAAuC,CAAnE,EAAqE;AACnE7B,kBAAAA,IAAI,CAAC8B,QAAL,CAAc;AAAClC,oBAAAA,OAAO,EAACI,IAAI,CAACL,KAAL,CAAWC,OAApB;AAA6BC,oBAAAA,MAAM,EAAC;AAApC,mBAAd;AACD,iBAFD,MAEO;AACLG,kBAAAA,IAAI,CAAC8B,QAAL,CAAc;AAAClC,oBAAAA,OAAO,EAACI,IAAI,CAACL,KAAL,CAAWC,OAApB;AAA6BG,oBAAAA,SAAS,EAACC,IAAI,CAACL,KAAL,CAAWI,SAAX,GAAuB;AAA9D,mBAAd;AACD;;AAdK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OANG,CAAb;AAwBD;;;yBAIEgC,Q,EAAS;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;AACA,WAAKD,QAAL,CAAc;AAAChC,QAAAA,IAAI,EAACiC;AAAN,OAAd;AACD;;;;EAzLe3E,KAAK,CAAC4E,S;;AA6LxB,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAE,CADG;AAETC,IAAAA,eAAe,EAAE,MAFR;AAGTC,IAAAA,UAAU,EAAE,QAHH;AAITC,IAAAA,cAAc,EAAE;AAJP;AADoB,CAAlB,CAAf;AASA,eAAe/C,GAAf","sourcesContent":["import React from 'react';\nimport { StyleSheet, ScrollView, TouchableOpacity, Button, Picker, Switch, Image, Text, View } from 'react-native';\nimport FirstPage from './downloadedpages/FirstPage.js'\nimport Profile from './downloadedpages/Profile.js'\nimport SavedGrants from './downloadedpages/SavedGrants.js'\nimport GrantTemplate from './downloadedpages/GrantTemplate.js'\nimport LoginScreen from './downloadedpages/LoginScreen.js'\nimport appData from './downloadedpages/global.js';\n/*\nEXPORT PROCESS\n\n1. Click export in AppBuilder\n\n2. Go through all the pages in the app, click export, and copy the page code into their own files in downloaded pages directory\n\n3. Import pages. In the render function of class App, add if statements that wil render the pages if that.state.page is changed.\n\n4. Fix errors (Adding quotation marks and semicolons where necessary). Go through every page code and replace 'goTo' with 'that.props.goTo'\n\n\n5. Take the generated componentdidmount from the class and paste it over the App class's componentdidmount\n\n6. Delete componentdidmount from generated classes\n\n*/\n\n\nfunction try_eval(input){\n  try {\n    var output =  eval(input);\n    return output\n  } catch(e){\n    return input;\n\n  }\n }\n\n\nfunction filter(arr,phrase){\n  return arr.filter(function(elem){\n    return elem.indexOf(phrase) !== -1;\n  })\n}\n\nfunction filter_list_of_objs(arr,key,filter_value){\n  return arr.filter(function(obj){\n    return obj[key] === filter_value\n  })\n}\n\nfunction map_list_of_objs(arr,key){\n  return arr.map(function(obj){\n    return obj[key];\n  })\n}\n\nfunction clone(arr){\n  return arr.slice();\n}\n\n\nfunction convert_spreadsheet_data_to_obj(data){\n  return {\n    row: data.gs$cell.row,\n    col: data.gs$cell.col,\n    data: data.content.$t,\n    type:data.content.type\n  }\n}\n\n\n\nfunction unwrap_dynamically(value,default_value){\n  if(default_value === undefined){\n    default_value = \"undefined\"\n  }\n  return try_eval(value) === undefined ? (default_value):  try_eval(value) \n}\n\n\n//prettifier: https://www.prettifier.net/js/\nclass App extends React.Component {\n\nconstructor(props){\nsuper(props);\nthis.state = {dbLinks:{}, loaded:false, page:\"FirstPage\", numLoaded:0}\n}\n\n      componentDidMount(){\n        \n        var that = this;\n        var dbLinks = {\"data\":\"https://script.google.com/a/vineyardappcamp.com/macros/s/AKfycbzDpmx5Lz6rtjtErMkdSt2ksR6qZEwupA2atqdD9Q/exec?sheetName=Aaron\",\"userdata\":\"https://script.google.com/a/vineyardappcamp.com/macros/s/AKfycbzDpmx5Lz6rtjtErMkdSt2ksR6qZEwupA2atqdD9Q/exec?sheetName=AaronUser\"}\n        Object.keys(dbLinks).forEach(function(key){\n          that.connectToDatabase(dbLinks[key], key);\n        })\n      };\n\n\n\nrender(){ \n\n  var that = this; \n\n  \n    if(that.state.page === \"FirstPage\"){\n        return(\n          <View style = {{width:\"100%\",height:\"100%\"}}>\n             <FirstPage goTo = {that.goTo.bind(that)} loaded = {that.state.loaded}></FirstPage>\n          </View>\n        )\n    }\n\n\n\n    \n\n\n    if(that.state.page === \"Profile\"){\n        return(\n          <View style = {{width:\"100%\",height:\"100%\"}}>\n             <Profile goTo = {that.goTo.bind(that)} loaded = {that.state.loaded}></Profile>\n          </View>\n        )\n    }\n\n\n\n    \n\n\n    if(that.state.page === \"Saved Grants\"){\n        return(\n          <View style = {{width:\"100%\",height:\"100%\"}}>\n             <SavedGrants goTo = {that.goTo.bind(that)} loaded = {that.state.loaded}></SavedGrants>\n          </View>\n        )\n    }\n\n\n\n    \n\n\n    if(that.state.page === \"GrantTemplate\"){\n        return(\n          <View style = {{width:\"100%\",height:\"100%\"}}>\n             <GrantTemplate goTo = {that.goTo.bind(that)} loaded = {that.state.loaded}></GrantTemplate>\n          </View>\n        )\n    }\n\n\n\n    \n\n\n    if(that.state.page === \"LoginScreen\"){\n        return(\n          <View style = {{width:\"100%\",height:\"100%\"}}>\n             <LoginScreen goTo = {that.goTo.bind(that)} loaded = {that.state.loaded}></LoginScreen>\n          </View>\n        )\n    }\n\n\n\n      \n\n  \n\n}\n\nconnectToDatabase(db_link,name){\n      var that = this;\n      that.state.dbLinks[name] = db_link;\n      \n      if(db_link.indexOf(\"google.com\") !== -1 && db_link.indexOf(\"macros\") === -1){\n         var schema = fetch(db_link, {\n                  method: 'GET',\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  }\n          }).then(async function(res){\n            \n \n           var res = await res.json();\n           var cols = {};\n           var data = res.feed.entry.map(convert_spreadsheet_data_to_obj);\n           var output = {};\n           data.forEach(function(cell){\n            \n            if(parseInt(cell.row) === 1){\n              cols[cell.col] = cell.data;\n            }\n           })\n\n          data.forEach(function(cell){\n            if(output[cell.row] !== 1){\n              if(output[cell.row] === undefined){\n                output[cell.row] = {};\n              }\n              output[cell.row][cols[cell.col]] = cell.data;\n            }\n          })\n\n          var data_arr = Object.keys(output).map(function(key){\n            return output[key]\n          })\n\n          data_arr.forEach(function(obj,index){\n            console.log(\"OBJ\" + obj);\n            obj[\"Index\"] = index;\n          })\n              \n          \n    \n            window[name] = data_arr;\n\n            that.forceUpdate();\n            \n          if(that.state.numLoaded === Object.keys(that.state.dbLinks).length-1){\n            that.setState({dbLinks:that.state.dbLinks, loaded:true})\n          } else {\n            that.setState({dbLinks:that.state.dbLinks, numLoaded:that.state.numLoaded + 1});\n          }\n\n\n          })\n\n        return;\n      }\n\n      \n   \n      var schema = fetch(db_link, {\n                  method: 'GET',\n                  headers: {\n                    \"Content-Type\": \"application/x-www-form-urlencoded\",\n                    \"Accept\": \"application/json\"\n                  }\n        }).then(async function(res){\n        \n          res = await res.json();\n          window[name] = res;\n          res.forEach(function(obj,index){\n            obj[\"Index\"] = index;\n          })\n          \n\n          \n          if(that.state.numLoaded === Object.keys(that.state.dbLinks).length-1){\n            that.setState({dbLinks:that.state.dbLinks, loaded:true})\n          } else {\n            that.setState({dbLinks:that.state.dbLinks, numLoaded:that.state.numLoaded + 1});\n          }\n\n\n        })\n    }\n\n\n\n  goTo(pageName){\n    console.log(\"page\");\n    console.log(pageName);\n    this.setState({page:pageName})\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nexport default App;\n\n\n\n\n\n\n\n  "]},"metadata":{},"sourceType":"module"}